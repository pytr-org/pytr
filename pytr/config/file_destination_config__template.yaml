destination:
  ################################################################################################
  ## Default and fallback patterns used for the destination of a downloaded document.
  ################################################################################################
  # valid for all blocks without explicit filename
  default:
    filename: "{iso_date}.{iso_time} {event_title}" # {event_title} = Wertpapier-/ETF-/Produkt-Name

  # if pattern not found, use this block
  unknown:
    path: "Unknown/{section_title}/"
    filename: "{iso_date}.{iso_time} {event_type} - {event_subtitle} - {document_title} - {event_title}"

  # if pattern found multiple times, use this block
  multiple_match:
    path: "MultipleMatchPattern/{section_title}/"
    filename: "{iso_date}.{iso_time} {event_type} - {event_subtitle} - {document_title} - {event_title}"
  ################################################################################################

  ################################################################################################
  ## Specific patterns for the destination of a downloaded document.
  ################################################################################################
  # stocks
  stock_order_settlement:
    pattern: [
        {event_type: "ORDER_EXECUTED", document_title: "Abrechnung(.\\d+)?"}, # mit limit verkauft
        {event_type: "TRADE_INVOICE", document_title: "Abrechnung(.\\d+)?"}, # mit limit gekauft
        {event_type: "STOCK_PERK_REFUNDED", event_subtitle: "Eingelöst", document_title: "Abrechnung(.\\d+)?"}, # Aktiengeschenk
        {event_type: "SHAREBOOKING", event_subtitle: "Verkauf", document_title: "Abrechnung(.\\d+)?"}, # Kapitalmassnahme
      ]
    path: "Stocks/Settlement/{iso_date_year}/"

  stock_order_cost_report:
    pattern: [
        {event_type: "ORDER_CREATED", event_subtitle: "Limit-Buy-Order erstellt", document_title: "Kosteninformation(.\\d+)?"}, # limit erstellt
        {event_type: "ORDER_EXECUTED", document_title: "Kosteninformation(.\\d+)?"},
        {event_type: "TRADE_INVOICE", document_title: "Kosteninformation(.\\d+)?"},
        {event_type: "STOCK_PERK_REFUNDED", event_subtitle: "Eingelöst", document_title: "Kosteninformation(.\\d+)?"}, # Aktiengeschenk
        {event_type: "EX_POST_COST_REPORT", event_title: "Ex-Post Kosteninformation", document_title: "Ex-Post Kosteninformation(.\\d+)?"},
      ]
    path: "Stocks/Cost report/{iso_date_year}/"

  stock_order_created:
    pattern: [{event_type: "ORDER_CREATED", document_title: "Auftragsbestätigung(.\\d+)?"}, {event_type: "ORDER_EXECUTED", document_title: "Auftragsbestätigung(.\\d+)?"}, {event_type: "TRADE_INVOICE", document_title: "Auftragsbestätigung(.\\d+)?"}]
    path: "Stocks/Order created/{iso_date_year}/"

  stock_order_canceled:
    pattern: [{event_type: "TRADE_CANCELED", document_title: "Abrechnung(.\\d+)?"}, {event_type: "ORDER_CANCELED", document_title: "Löschbestätigung(.\\d+)?"}]
    path: "Stocks/Order canceled/{iso_date_year}/"

  # Kapitalmaßnahmen
  stock_notice_1:
    pattern: [{event_type: "EXERCISE", event_subtitle: "Ausübung", document_title: "Kundenanschreiben(.\\d+)?"}, {event_type: "SHAREBOOKING", document_title: "Ausführungsanzeige(.\\d+)?"}]
    path: "Stocks/Notice/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} {event_subtitle} {event_title}"

  # split for better readability
  stock_notice_2:
    pattern: [{event_type: "CORPORATE_ACTION", event_subtitle: "Kapitalherabsetzung", document_title: "Abrechnung(.\\d+)?"}, {event_type: "SHAREBOOKING_CANCELED"}]
    path: "Stocks/Notice/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} {event_subtitle} {event_title}"

  # split for better readability
  stock_notice_3:
    pattern: [
        {event_type: "SHAREBOOKING_TRANSACTIONAL", document_title: "Abrechnung(.\\d+)?"},
        {event_type: "INSTRUCTION_CORPORATE_ACTION", event_subtitle: "Weisung zur Aktiendividende", document_title: "Kundenanschreiben(.\\d+)?"}, #Kapitalerhöhung gegen Bar
      ]
    path: "Stocks/Notice/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} {event_subtitle} {event_title}"

  # split for better readability
  stock_notice_4:
    pattern:
      [
        {event_type: "ssp_corporate_action_invoice_shares", event_subtitle: "Spin-off", document_title: "Dokumente(.\\d+)?"},
        {event_type: "ssp_corporate_action_invoice_shares", event_subtitle: "Reverse Split", document_title: "Dokumente(.\\d+)?"},
        {event_type: "ssp_corporate_action_invoice_shares", event_subtitle: "Aktiendividende", document_title: "Dokumente(.\\d+)?"},
        {event_type: "ssp_corporate_action_invoice_shares", event_subtitle: "Zwischenvertrieb von Wertpapieren", document_title: "Dokumente(.\\d+)?"},
        {event_type: "ssp_corporate_action_informative_notification", event_subtitle: "Wechsel", document_title: "Information(.\\d+)?"},
        {event_type: "ssp_corporate_action_informative_notification", event_subtitle: "Information", document_title: "Information(.\\d+)?"},
        {event_type: "ssp_corporate_action_informative_notification", event_subtitle: "Außerordentliche oder spezielle Hauptversammlung", document_title: "Information(.\\d+)?"},
        {event_type: "ssp_corporate_action_informative_notification", event_subtitle: "Aufruf von Zwischenpapieren", document_title: "Kapitalmaßnahmen(.\\d+)?"},
      ]
    path: "Stocks/Notice/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} {event_subtitle} {event_title}"

  stock_report:
    pattern: [{event_type: "QUARTERLY_REPORT", event_title: "Q\\d/\\d+ Abschluss", document_title: "Kontoauszug(.\\d+)?"}, {event_type: "QUARTERLY_REPORT", event_title: "Q\\d/\\d+ Abschluss", document_title: "Depotauszug(.\\d+)?"}, {event_type: "QUARTERLY_REPORT", event_title: "Q\\d/\\d+ Abschluss", document_title: "Cryptoauszug(.\\d+)?"}]
    path: "Stocks/Report/{iso_date_year}/"
    filename: "{iso_date} {document_title} {event_title}"

  # General Meetings
  stock_general_meetings:
    pattern: [{event_type: "GENERAL_MEETING"}, {event_type: "ssp_corporate_action_informative_notification", event_subtitle: "Jährliche Hauptversammlung"}]
    path: "Stocks/General Meetings/{iso_date_year}/"

  # Savings plan
  savings_plan:
    pattern: [{event_type: "SAVINGS_PLAN_INVOICE_CREATED"}, {event_type: "SAVINGS_PLAN_EXECUTED"}, {event_type: "SAVINGS_PLAN_CANCELED", event_subtitle: "Sparplan storniert"}]
    path: "Stocks/Savings plan/{iso_date_year}/"

  # pre-determined tax base earning
  stock_pre_earning_tax:
    pattern: [{event_type: "PRE_DETERMINED_TAX_BASE_EARNING", event_subtitle: "Vorabpauschale", document_title: "Vorabpauschale(.\\d+)?"}]
    path: "Stocks/PreEarningTax/{iso_date_year}/"

  # Dividends
  dividends_received:
    pattern: [{event_type: "CREDIT", event_subtitle: "Dividende", document_title: "Abrechnung(.\\d+)?"}, {event_type: "CREDIT", event_subtitle: "Ausschüttung", document_title: "Abrechnung(.\\d+)?"}, {event_type: "CREDIT_CANCELED", event_subtitle: "Dividende", document_title: "Abrechnung(.\\d+)?"}, {event_type: "ssp_corporate_action_invoice_cash"}]
    path: "Dividends/{iso_date_year}/"

  # Dividends Corporate action election
  dividends_election:
    pattern:
      [
        {event_type: "INSTRUCTION_CORPORATE_ACTION", event_subtitle: "Weisung zur Aktiendividende", document_title: "Dividende Wahlweise(.\\d+)?"},
        {event_type: "ssp_dividend_option_customer_instruction", event_subtitle: "Cash oder Aktie", document_title: "Dividende Wahlweise(.\\d+)?"},
        {event_type: "ssp_corporate_action_informative_notification", event_subtitle: "Dividende Wahlweise", document_title: "Kapitalmaßnahmen(.\\d+)?"},
      ]
    path: "Dividendelection/{iso_date_year}/"

  # bonds
  bond_repayment:
    pattern: [{event_type: "REPAYMENT", event_subtitle: "Tilgung", document_title: "Abrechnung(.\\d+)?"}]
    path: "Bonds/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} Repayment {event_title}"

  bond_interest:
    pattern: [{event_type: "COUPON_PAYMENT", event_subtitle: "Coupon Zahlung", document_title: "Abrechnung(.\\d+)?"}]
    path: "Bonds/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} Interest {event_title}"

  # Saveback
  saveback_enabled:
    pattern: [{event_type: "benefits_saveback_execution", document_title: "Aktivierung(.\\d+)?"}]
    path: "Saveback/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} Enabled {event_title}"

  saveback_executed:
    pattern: [{event_type: "benefits_saveback_execution", document_title: "Abrechnung Ausführung(.\\d+)?"}]
    path: "Saveback/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} Report {event_title}"

  saveback_cost_report:
    pattern: [{event_type: "benefits_saveback_execution", document_title: "Kosteninformation(.\\d+)?"}]
    path: "Saveback/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} Cost report {event_title}"

  # Round up
  roundup_enabled:
    pattern: [
        {event_type: "benefits_spare_change_execution", event_subtitle: "Round up", document_title: "Aktivierung(.\\d+)?"}, # same files - multiple times at once
      ]
    path: "Roundup/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} Enabled {event_title}"

  roundup_executed:
    pattern: [{event_type: "benefits_spare_change_execution", event_subtitle: "Round up", document_title: "Abrechnung Ausführung(.\\d+)?"}]
    path: "Roundup/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} Report {event_title}"

  roundup_cost_report:
    pattern: [{event_type: "benefits_spare_change_execution", event_subtitle: "Round up", document_title: "Kosteninformation(.\\d+)?"}]
    path: "Roundup/{iso_date_year}/"
    filename: "{iso_date}.{iso_time} Cost report {event_title}"

  # account
  cash_interest:
    pattern: [{event_type: "INTEREST_PAYOUT", event_title: "Zinsen", document_title: "Abrechnung(.\\d+)?"}, {event_type: "INTEREST_PAYOUT_CREATED", event_title: "Zinsen", document_title: "Abrechnung(.\\d+)?"}]
    path: "Cash Interest/"
    filename: "{iso_date} Zinsabrechnung"

  cash_transfer_report:
    pattern: [{event_type: "INCOMING_TRANSFER", document_title: "Transaktionsbestätigung(.\\d+)?"}]
    path: "Cash Report/"
    filename: "{iso_date}.{iso_time} {document_title}" # {event_title} = Personal name

  # annual tax report for account
  account_tax_report:
    pattern: [{event_type: "TAX_REFUND"}, {event_type: "TAX_ENGINE_ANNUAL_REPORT"}, {event_type: "YEAR_END_TAX_REPORT", document_title: "Steuerreport(.\\d+)?"}]
    path: "Tax/"
    filename: "{iso_date} {document_title}"

  account_tax_adjustment:
    pattern: [{event_type: "ssp_tax_correction_invoice", event_title: "Steuerkorrektur", document_title: "Steuerabrechnung(.\\d+)?"}, {event_type: "TAX_CORRECTION", event_subtitle: "Steuerbuchung", event_title: "Steuerabrechnung", section_title: "Dokumente", document_title: "Abrechnung(.\\d+)?"}]
    path: "Tax/"
    filename: "{iso_date} {event_title}"

  # common informations
  notice_stocks:
    pattern: [
        {event_type: "CUSTOMER_CREATED", event_subtitle: "Erhalten", document_title: "Basisinformationen über Wertpapiere(.\\d+)?"},
        {event_type: "ORDER_CREATED", event_subtitle: "Limit-Buy-Order erstellt", document_title: "Basisinformationsblatt(.\\d+)?"},
        {event_type: "DOCUMENTS_CHANGED"}, # same file as below
      ]
    path: "Notice/"
    filename: "{iso_date} {document_title}"

  notice_crypto:
    pattern:
      [
        {event_type: "TRADE_INVOICE", document_title: "Basisinformationsblatt(.\\d+)?"},
        {event_type: "ORDER_EXECUTED", document_title: "Basisinformationsblatt(.\\d+)?"},
        {event_type: "GESH_CORPORATE_ACTION", event_subtitle: "Unternehmensmeldung", document_title: "Kundenanschreiben(.\\d+)?"},
        {event_type: "GESH_CORPORATE_ACTION_MULTIPLE_POSITIONS", event_subtitle: "Gesellschaftshinweis", document_title: "Kundenanschreiben(.\\d+)?"},
      ]
    path: "Notice/"
    filename: "{iso_date} {document_title}"

  contract_documents:
    pattern: [{event_type: "card_order_billed"}, {event_type: "DOCUMENTS_CREATED"}, {event_type: "DOCUMENTS_ACCEPTED"}]
    path: "Contract/"
    filename: "{iso_date} {document_title} - {event_title}"

  order_expired:
    pattern: [{event_type: "ORDER_EXPIRED"}]
    path: "Stocks/Order canceled/{iso_date_year}/"
    filename: "{iso_date} {document_title}"
